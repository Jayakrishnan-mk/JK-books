<%-include ("../include/_header") %>

    <section>
        <div class="container mt-4">
            <div class="row">
                <div class="col-md-6">

                    <h2 class="text-center">Edit Product</h2>

                    <p style="color: red;">
                        <%= errorMsg %>
                    </p>
                    <!-- form handling................... -->

                    <form action="/admin/update-product/<%=product._id%>?_method=PUT" method="post"
                        enctype="multipart/form-data">
                        <label for="">Name</label>
                        <input type="hidden" name="id" value="<%=product._id%>">
                        <input type="text" name="name" value="<%= product.name %>" class="form-control">

                        <label for="">Author</label>
                        <input type="text" name="author" value="<%= product.author %>" class="form-control">

                        <div class="m-2">
                            <label for="categoryOptions" class="form-lable">Category : </label>

                            <select name="category" id="categoryOptions">
                                <% for(let i=0; i < category.length ; i++ ) { %>
                                    <option value="<%= category[i].name %>">
                                        <%= category[i].name %>
                                    </option>
                                    <% } %>
                            </select>
                        </div>

                        <label>Price</label>
                        <input type="number" name="price" value="<%= product.price %>" class="form-control">

                        <label>Quantity</label>
                        <input type="number" name="quantity" value="<%= product.quantity %>" class="form-control">

                        <label>Description</label>
                        <input type="text" name="description" value="<%= product.description %>" class="form-control">

                        <label>Image</label>
                        <input name="image" type="file" value="<%= product.imgPath %>" class="form-control">

                        <button type="submit" class="btn btn-info mt-4">Submit</button>

                    </form>
                </div>

            </div>
        </div>
    </section>